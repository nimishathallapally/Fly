{% extends 'base.html' %}

{% block title %}Sign Up{% endblock %}

{% block content %}
<!-- Loading bar -->
<div id="loading-bar" class="fixed top-0 left-0 w-full h-1 z-50 animate-stripes"></div>

<div class="container max-w-lg mx-auto mt-10 bg-white p-8 shadow-md rounded-xl">
  <h2 class="text-3xl font-bold text-indigo-700 text-center mb-6">Create an Account</h2>

  <form action="{{ url_for('signup') }}" method="POST" class="space-y-5">
    <div>
      <label for="name" class="block text-gray-700 font-medium mb-1">Full Name</label>
      <input type="text" id="name" name="name" required
             class="w-full border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500">
    </div>

    <div>
      <label for="email" class="block text-gray-700 font-medium mb-1">Email</label>
      <input type="email" id="email" name="email" required
             class="w-full border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500">
    </div>

    <div>
      <label for="password" class="block text-gray-700 font-medium mb-1">Password</label>
      <input type="password" id="password" name="password" required
             class="w-full border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500">
    </div>

    <div>
      <label for="confirm_password" class="block text-gray-700 font-medium mb-1">Confirm Password</label>
      <input type="password" id="confirm_password" name="confirm_password" required
             class="w-full border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500">
    </div>

    <button type="submit"
            class="w-full bg-indigo-600 text-white py-2 rounded-md font-semibold hover:bg-indigo-700 transition duration-200">
      Sign Up
    </button>
  </form>

  <p class="text-center text-sm text-gray-500 mt-6">
    Already have an account? <a href="#" class="text-indigo-600 hover:underline">Login</a>
  </p>
</div>

<!-- Hide loading bar on load -->
<script>
  window.addEventListener('load', () => {
    const bar = document.getElementById('loading-bar');
    if (bar) {
      bar.style.transition = 'opacity 0.4s ease';
      bar.style.opacity = '0';
      setTimeout(() => bar.remove(), 400);
    }
  });
</script>

<style>
  @keyframes stripes {
    0% {
      background-position: 0 0;
    }
    100% {
      background-position: 200% 0;
    }
  }

  .animate-stripes {
    background: repeating-linear-gradient(
      45deg,
      #6366f1 0px,
      #6366f1 10px,
      #8b5cf6 10px,
      #8b5cf6 20px
    );
    background-size: 200% auto;
    animation: stripes 3s linear infinite;
  }
</style>
{% endblock %}
